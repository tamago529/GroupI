{% extends 'company_base.html' %}

{% block content %}
<style>
    .admin-info-wrapper { max-width: 950px; margin: 40px auto; padding: 0 20px; font-family: sans-serif; }
    .page-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; border-bottom: 2px solid #eee; padding-bottom: 15px; }
    .admin-title { font-size: 24px; font-weight: bold; color: #333; border-left: 5px solid #ff9600; padding-left: 15px; margin: 0; }

    /* ğŸŒŸ ç”»åƒã‚®ãƒ£ãƒ©ãƒªãƒ¼ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    .image-section { margin-bottom: 30px; }
    .image-gallery { display: flex; gap: 15px; flex-wrap: wrap; padding: 10px 0; }
    .store-image-item { width: 220px; height: 160px; object-fit: cover; border: 2px solid #333; border-radius: 8px; background-color: #f0f0f0; }
    .no-image-box { width: 220px; height: 160px; display: flex; align-items: center; justify-content: center; border: 2px dashed #ccc; color: #999; font-size: 14px; border-radius: 8px; }

    /* æƒ…å ±è¡¨ç¤ºç”¨ãƒ†ãƒ¼ãƒ–ãƒ« */
    .info-table { width: 100%; border-collapse: collapse; background: #fff; border: 2px solid #333; }
    .info-table th { width: 200px; background-color: #f9f9f9; border: 1px solid #333; padding: 15px; text-align: left; font-size: 14px; color: #666; }
    .info-table td { border: 1px solid #333; padding: 15px; font-size: 16px; color: #333; font-weight: bold; }

    .status-badge { padding: 4px 10px; border-radius: 4px; font-size: 12px; color: #fff; }
    .bg-success { background-color: #28a745; }
    .bg-secondary { background-color: #6c757d; }

    .footer-actions { margin-top: 40px; display: flex; justify-content: flex-end; gap: 15px; }
    .btn-back { padding: 10px 30px; border: 2px solid #333; border-radius: 15px; background-color: #fff; color: #333; text-decoration: none; font-weight: bold; }
</style>

<div class="admin-info-wrapper">
    <div class="page-header">
        <h1 class="admin-title">åº—èˆ—è©³ç´°æƒ…å ±ï¼ˆç®¡ç†ç”¨ï¼‰</h1>
    </div>

    <!-- ğŸŒŸ åº—èˆ—ç”»åƒã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆrelated_name="images" ã‚’ä½¿ç”¨ï¼‰ -->
    <div class="image-section">
        <h2 style="font-size: 18px; font-weight: bold; margin-bottom: 10px; color: #666;">ç™»éŒ²ã•ã‚Œã¦ã„ã‚‹ç”»åƒ</h2>
        <div class="image-gallery">
            {% for img in store.images.all %}
                <!-- æ–°ã—ã„ image_file ãŒã‚ã‚Œã°è¡¨ç¤ºã€ãªã‘ã‚Œã°æ—§ image_path ã‚’è¡¨ç¤º -->
                <img src="{% if img.image_file %}{{ img.image_file.url }}{% else %}{{ img.image_path }}{% endif %}" class="store-image-item" alt="åº—èˆ—å†™çœŸ">
            {% empty %}
                <div class="no-image-box">ç”»åƒãªã—</div>
            {% endfor %}
        </div>
    </div>

    <table class="info-table">
        <tbody>
            <tr><th>åº—èˆ—ID</th><td>{{ store.id }}</td></tr>
            <tr><th>åº—èˆ—å</th><td>{{ store.store_name }} {{ store.branch_name }}</td></tr>
            <tr><th>ã‚¨ãƒªã‚¢ / ã‚¸ãƒ£ãƒ³ãƒ«</th><td>{{ store.area.area_name }} / {{ store.genre }}</td></tr>
            <tr><th>ä½æ‰€</th><td>{{ store.address }}</td></tr>
            <tr><th>é›»è©±ç•ªå·</th><td>{{ store.phone_number }}</td></tr>
            <tr><th>ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</th><td>{{ store.email }}</td></tr>
            <tr><th>å–¶æ¥­æ™‚é–“ (è©³ç´°)</th><td>{{ store.business_hours|linebreaksbr }}</td></tr>
            <tr>
                <th>å–¶æ¥­æ™‚é–“ (ã‚·ã‚¹ãƒ†ãƒ )</th>
                <td>
                    â‘  {{ store.open_time_1|time:"H:i" }} ã€œ {{ store.close_time_1|time:"H:i" }}<br>
                    {% if store.open_time_2 %}
                    â‘¡ {{ store.open_time_2|time:"H:i" }} ã€œ {{ store.close_time_2|time:"H:i" }}
                    {% endif %}
                </td>
            </tr>
            <tr><th>å¸­æ•°</th><td>{{ store.seats }} å¸­</td></tr>
            <tr><th>äºˆç®— / ã‚·ãƒ¼ãƒ³</th><td>ï¿¥{{ store.budget }} ã€œ / {{ store.scene.scene_name }}</td></tr>
            <tr>
                <th>ãƒãƒƒãƒˆäºˆç´„å—ä»˜</th>
                <td>
                    {% if store.reservable %}
                        <span class="status-badge bg-success">å—ä»˜ä¸­</span>
                    {% else %}
                        <span class="status-badge bg-secondary">åœæ­¢ä¸­</span>
                    {% endif %}
                </td>
            </tr>
        </tbody>
    </table>

    <div class="footer-actions">
        <a href="{% url 'stores:company_store_management' %}" class="btn-back">åº—èˆ—ä¸€è¦§ã«æˆ»ã‚‹</a>
    </div>
</div>
{% endblock %}
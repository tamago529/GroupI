{% extends "store_base.html" %}

{% block content %}
<style>
    /* --- å…±é€šã‚¹ã‚¿ã‚¤ãƒ« --- */
    :root {
        --bg: #f3f4f6;
        --card: #ffffff;
        --line: #d9dde3;
        --text: #222;
        --muted: #6b7280;
        --nav: #2f343a;
        --link: #1a73e8;
        --chip: #eef2f7;
        --bar: #ff9800;
        --bar2: #ffb74d;
        --danger-bg: #ffe9e7;
        --danger-line: #f3b6b0;
        --danger-text: #b42318;
    }

    .wrap {
        max-width: 800px;
        margin: 0 auto;
        padding: 20px 12px 40px;
        color: var(--text);
        font-family: sans-serif;
    }

    .hd {
        margin-bottom: 25px;
    }

    .title {
        font-size: 20px;
        font-weight: 900;
        border-left: 4px solid var(--danger-text);
        padding-left: 12px;
    }

    .card {
        border: 1px solid var(--line);
        border-radius: 8px;
        background: #fff;
        margin-bottom: 20px;
    }

    .card-head {
        background: #fafafa;
        padding: 12px 16px;
        border-bottom: 1px solid var(--line);
        font-weight: 800;
        font-size: 14px;
    }

    .card-body {
        padding: 16px;
    }

    /* é€šå ±å¯¾è±¡ã®å£ã‚³ãƒŸè¡¨ç¤ºã‚¨ãƒªã‚¢ */
    .target-review {
        background: #f9f9f9;
        border-radius: 6px;
        padding: 15px;
        font-size: 14px;
        color: #555;
        line-height: 1.6;
        border-left: 3px solid var(--line);
    }

    /* å…¥åŠ›ã‚¨ãƒªã‚¢ */
    .form-group {
        margin-top: 20px;
    }

    .label {
        display: block;
        font-size: 14px;
        font-weight: 800;
        margin-bottom: 8px;
    }

    .textarea {
        width: 100%;
        min-height: 150px;
        padding: 12px;
        border: 1px solid var(--line);
        border-radius: 6px;
        font-size: 14px;
        resize: vertical;
    }

    .textarea:focus {
        outline: none;
        border-color: var(--link);
        box-shadow: 0 0 0 3px rgba(26, 115, 232, 0.1);
    }

    /* ãƒœã‚¿ãƒ³ã‚¨ãƒªã‚¢ */
    .btns {
        display: flex;
        gap: 12px;
        margin-top: 30px;
        justify-content: flex-end;
    }

    .btn {
        padding: 10px 24px;
        border-radius: 6px;
        font-weight: 900;
        font-size: 14px;
        cursor: pointer;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        border: 1px solid var(--line);
    }

    .btn-white {
        background: #fff;
        color: #333;
    }

    .btn-white:hover {
        background: #f3f4f6;
    }

    .btn-danger {
        background: var(--danger-text);
        color: #fff;
        border-color: var(--danger-text);
    }

    .btn-danger:hover {
        opacity: 0.9;
    }
</style>

<div class="wrap">
    <div class="hd">
        <h1 class="title">ä¸é©åˆ‡ãªå£ã‚³ãƒŸã®é€šå ±</h1>
        <p style="font-size: 13px; color: var(--muted); margin-top: 8px;">
            è¦ç´„é•åã¨æ€ã‚ã‚Œã‚‹å£ã‚³ãƒŸã®å†…å®¹ã‚’å ±å‘Šã—ã¦ãã ã•ã„ã€‚é‹å–¶äº‹å‹™å±€ã«ã¦ç²¾æŸ»ã„ãŸã—ã¾ã™ã€‚
        </p>
    </div>

    <!-- 1. é€šå ±å¯¾è±¡ã®ç¢ºèª -->
    <div class="card">
        <div class="card-head">é€šå ±å¯¾è±¡ã®å£ã‚³ãƒŸ</div>
        <div class="card-body">
            <div class="user-name" style="font-weight: bold; margin-bottom: 10px;">ğŸ‘¤ {{ review.reviewer.nickname }}
                æ§˜ã®æŠ•ç¨¿</div>
            <div class="target-review">
                {{ review.review_text|linebreaksbr }}
            </div>
        </div>
    </div>

    <!-- 2. é€šå ±ç†ç”±ã®å…¥åŠ› -->
    <form method="post">
        {% csrf_token %}
        <div class="card">
            <div class="card-head">é€šå ±å†…å®¹ã®è©³ç´°</div>
            <div class="card-body">
                <div class="form-group">
                    <label class="label">é€šå ±ç†ç”±ï¼ˆå¿…é ˆï¼‰</label>
                    <textarea name="report_text" class="textarea" placeholder="ä¾‹ï¼šäº‹å®Ÿç„¡æ ¹ã®å†…å®¹ã§èª¹è¬—ä¸­å‚·ã«ã‚ãŸã‚‹ãŸã‚ã€å‰Šé™¤ã‚’ä¾é ¼ã—ã¾ã™ã€‚"
                        required></textarea>
                </div>
            </div>
        </div>
</div>

<div class="card">
    <div class="card-body">
        <label style="cursor: pointer; display: flex; align-items: center; gap: 8px;">
            <input type="checkbox" name="consent" required>
            <span style="font-size: 14px; font-weight: bold;">è™šå½ã®é€šå ±ã§ã¯ãªã„ã“ã¨ã«åŒæ„ã—ã¾ã™</span>
        </label>
    </div>
</div>

<div class="btns">
    <a href="{% url 'reviews:store_review_list' pk=review.store.pk %}" class="btn btn-white">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</a>
    <button type="submit" class="btn btn-danger">ã“ã®å†…å®¹ã§é€šå ±ã™ã‚‹</button>
</div>
</form>
</div>
{% endblock %}
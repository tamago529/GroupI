{% extends "customer_base.html" %}
{% load static %}

{% block title %}無料会員登録 / ログイン{% endblock %}

{% block css %}
<link rel="stylesheet" href="{% static 'css/customer_login.css' %}">
{% endblock %}

{% block breadcrumb %}
<nav class="breadcrumbs">
  <ol>
    <li><a href="{% url 'accounts:customer_top' %}">トップ</a></li>
    <li><span>ログイン</span></li>
  </ol>
</nav>
{% endblock %}

{% block content %}
<div class="auth-page-wrapper">
  <div class="auth-wrapper">

    <div class="auth-container">

      <!-- ===== 左：無料会員登録 ===== -->
      <div class="auth-box">
        <h2>無料会員登録</h2>

        <div class="step-box">
          <p class="step-title">3 STEPでカンタン登録！</p>
          <div class="steps">
            <span>1<br>ユーザーネーム登録</span>
            <span>2<br>パスワード登録</span>
            <span>3<br>個人情報入力</span>
          </div>
        </div>

        <p class="auth-text">
          まだ会員でない方は、<br>
          以下より会員登録をお願いいたします。
        </p>

        <a href="{% url 'accounts:customer_register' %}" class="btn-register">無料会員登録はこちら</a>
      </div>

      <!-- ===== 右：ログイン ===== -->
      <div class="auth-box">
        <h2>ログイン</h2>

        <p class="auth-text">
          登録済みの方はこちらからログインしてください。
        </p>

        <form class="login-form" method="post">
          {% csrf_token %}

          {% if form.non_field_errors %}
          <div style="color: red; font-size: 12px; margin-bottom: 10px;">
            {% for error in form.non_field_errors %}{{ error }}{% endfor %}
          </div>
          {% endif %}

          <label> 
            ユーザーネーム
            <input type="text" name="username" required value="{{ form.username.value|default:'' }}">
          </label>

          <label>
            パスワード
            <input type="password" name="password" required>
          </label>

          <button type="submit" class="btn-login">ログイン</button>
        </form>

        <div class="login-links">
          <a href="{% url 'accounts:customer_mail_send' %}">パスワードを忘れた方</a>
        </div>
      </div>

    </div>
  </div>
</div>
{% endblock %}